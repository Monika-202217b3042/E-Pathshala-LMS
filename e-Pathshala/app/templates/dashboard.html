{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
    <h1>Welcome back, {{ user.username }}!</h1>

    {% if user.is_instructor %}
    <div class="mt-4">
        <h2>Your Courses</h2>
        <a href="{{ url_for('main.create_course') }}" class="btn btn-primary mb-3">Create New Course</a>
        <div class="list-group">
            {% for course in courses %}
            <a href="{{ url_for('main.manage_course', course_id=course.id) }}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                {{ course.title }}
                <span>
                    <button onclick="location.href='{{ url_for('main.edit_course', course_id=course.id) }}'" class="btn btn-sm btn-secondary">Edit</button>
                    <button onclick="location.href='{{ url_for('main.delete_course', course_id=course.id) }}'" class="btn btn-sm btn-danger">Delete</button>
                </span>
            </a>
            {% else %}
            <p>No courses to display.</p>
            {% endfor %}
        </div>
    </div>
    {% else %}
    <div class="mt-4">
        <h2>Your Enrolled Courses</h2>
        <div class="list-group">
            {% for course in courses %}
            <a href="{{ url_for('main.view_course', course_id=course.id) }}" class="list-group-item list-group-item-action">
                {{ course.title }} - Progress: {{ course.progress }}%
            </a>
            {% else %}
            <p>No courses enrolled.</p>
            {% endfor %}
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}
